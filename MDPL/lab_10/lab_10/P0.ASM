.386
.model FLAT,C

PUBLIC	S
PUBLIC	A
PUBLIC	B
PUBLIC	D
PUBLIC	E
PUBLIC	N1
PUBLIC	N2
PUBLIC	P1
PUBLIC	P2
PUBLIC	CNT_R

PUBLIC	P0
extern	Count:near, SetCler:near, A_u_B:near, A_B:near

.DATA
	S	DD	00000000000000001111111111111111B,101010B
	A	DD	00001111000011110000111100001111B,101010B
	B	DD	00111100001111000011110000111100B,100001B
	D	DD	11001100110011001100110011001100B,100001B
	E	DD	01010101010101010101010101010101B,101010B
	N1	DD	31
	N2	DD	0
	P1	DD	1
	P2	DD	0
	L	DD	38
	CNT_R	DD	?


.CODE

P0:
		PUSH	EBP
		MOV		EBP, ESP

		PUSH	L
		PUSH	OFFSET E
		PUSH	OFFSET D
		CALL	A_u_B
		ADD		ESP, 12
   
		PUSH	L
		PUSH	OFFSET B
		PUSH	OFFSET A
		CALL	A_B
		ADD		ESP, 12
		
		MOV		ECX, P1
		PUSH	ECX
		MOV		ECX, N1
		PUSH	ECX
		PUSH	OFFSET S
		CALL	SetCler
		ADD		ESP, 12
   
		MOV		ECX, P2
		PUSH	ECX
		MOV		ECX, N2
		PUSH	ECX
		PUSH	OFFSET S
		CALL	SetCler
		ADD		ESP, 12

		PUSH	L
		PUSH	OFFSET A
		CALL	Count
		ADD		ESP, 8
		MOV		CNT_R, EAX

		POP		EBP   
		RET 

END
