PUBLIC	U10NS
PUBLIC	S10NS

EXTRN	X:	WORD
EXTRN	PUTLB:	NEAR

DSEG	SEGMENT	PARA	PUBLIC	'DATA'
	NUM	DB	0,0,0,0,0,'$'
DSEG	ENDS

CSEG	SEGMENT	PARA	PUBLIC	'CODE'
	ASSUME	CS:CSEG

U10NS	PROC	NEAR
		PUSH	AX
		PUSH	BX
		PUSH	CX
		PUSH	DX
		PUSH	SI

		MOV	AX, X

	USTART:
		MOV	SI, OFFSET NUM
		ADD	SI, 4
	FIND_DIGS:
		XOR	DX, DX
		MOV	BX, 10
		DIV	BX
		MOV	[SI], DL

		DEC	SI
		CMP	SI, OFFSET NUM
		JNB	FIND_DIGS

		MOV	SI, OFFSET NUM
		ADD	SI, 4
	PUT_CHR:
		MOV	BX, '0'
		ADD	[SI], BX

		DEC	SI
		CMP	SI, OFFSET NUM
		JNB	PUT_CHR

		MOV	SI, OFFSET NUM
	FIND_NBEG:
		MOV	AL, '$'
		CMP	[SI], AL
		JE	PRINT_ZERO

		MOV	AL, '0'
		CMP	[SI], AL
		JNE	PRINT_NUM

		INC	SI
		JMP	FIND_NBEG

	PRINT_NUM:
		MOV	DX, SI
		MOV	AH, 09H
		INT	21H
		CALL	PUTLB

	EXIT:
		POP	SI
		POP	DX
		POP	CX
		POP	BX
		POP	AX

		RET

	PRINT_ZERO:
		MOV	DL, '0'
		MOV	AH, 02H
		INT	21H
		CALL	PUTLB

		JMP	EXIT
U10NS	ENDP

S10NS	PROC	NEAR
		PUSH	AX
		PUSH	BX
		PUSH	CX
		PUSH	DX
		PUSH	SI

		MOV	AX, X

		ROL	AX, 1
		ROR	AX, 1
		JNC	USTART

		MOV	BX, AX
		MOV	DL, '-'
		MOV	AH, 02H
		INT	21H

		NOT	BX
		ADD	BX, 1
		MOV	AX, BX
		JMP	USTART
S10NS	ENDP

CSEG	ENDS

END