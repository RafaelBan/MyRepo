Microsoft (R) Macro Assembler Version 14.16.27027.1	    05/06/19 10:33:26
.\CopyStr.asm						     Page 1 - 1


				.386
				.model flat, c

				public CopyStr

 00000000			.code

 00000000			CopyStr proc
 00000000  55			        push    ebp
 00000001  8B EC		        mov     ebp, esp
 00000003  56			        push    esi
 00000004  57			        push    edi

 00000005  8B 75 08		        mov     esi, [ebp + 8]      ; s1 offset
 00000008  8B 7D 0C		        mov     edi, [ebp + 12]     ; s2 offset
 0000000B  8B 4D 10		        mov     ecx, [ebp + 16]     ; L

 0000000E  41			        inc     ecx                 ; with '\0'
 0000000F  8B C7		        mov     eax, edi            ; s2 offset for return

 00000011  3B F7		        cmp     esi, edi
 00000013  7C 05		        jl      backward            ; s1 offset < s2 offset
 00000015  74 0D		        je      exit

 00000017			    foward:
 00000017  FC			        cld
 00000018  EB 07		        jmp     copy

 0000001A			    backward:
 0000001A  03 F1		        add     esi, ecx
 0000001C  4E			        dec     esi
 0000001D  03 F9		        add     edi, ecx
 0000001F  4F			        dec     edi
 00000020  FD			        std

 00000021			    copy:
 00000021  F3/ A4		        rep     movsb
 00000023  FC			        cld

 00000024			    exit:
 00000024  5F			        pop     edi
 00000025  5E			        pop     esi
 00000026  5D			        pop     ebp
 00000027  C3			        ret
 00000028			CopyStr endp

				end
Microsoft (R) Macro Assembler Version 14.16.27027.1	    05/06/19 10:33:26
.\CopyStr.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

FLAT . . . . . . . . . . . . . .	GROUP
_DATA  . . . . . . . . . . . . .	32 Bit	 00000000 DWord	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 00000028 DWord	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

CopyStr  . . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 00000028 Public C
  foward . . . . . . . . . . . .	L Near	 00000017 _TEXT	
  backward . . . . . . . . . . .	L Near	 0000001A _TEXT	
  copy . . . . . . . . . . . . .	L Near	 00000021 _TEXT	
  exit . . . . . . . . . . . . .	L Near	 00000024 _TEXT	


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000001h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT

	   0 Warnings
	   0 Errors
